---
interface Props {
  src?: string
  alt: string
  width?: number | string
  height?: number | string
  caption?: string
}

const { src = '', alt, width, height, caption } = Astro.props as Props
const fallbackSrc = '/images/logo_stefano_chermaz.png'
const finalSrc = (typeof src === 'string' && src.trim().length > 0) ? src : fallbackSrc
---

<figure class="figure">
  <img src={finalSrc} alt={alt} loading="lazy" decoding="async" width={width} height={height} />
  {caption && <figcaption class="caption">{caption}</figcaption>}
  
  <style>
    .figure {
      display: grid;
      gap: var(--space-2xs);
      justify-items: center;
    }

    img {
      border-radius: var(--radius-m);
      inline-size: 100%;
      block-size: auto;
    }

    .caption {
      font-size: 0.95rem;
      opacity: 0.8;
      text-align: center;
    }
  </style>
</figure>


