[build]
  command = "npm run build"
  publish = "dist"

[dev]
  command = "npm run dev"

[build.environment]
  NODE_VERSION = "18"

[[plugins]]
  package = "@netlify/plugin-functions-install-core"

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"

# Email notifications for form submissions
[[notifications]]
  type = "email"
  event = "submission-created"
  emails = ["stefano@chermaz.com"]

# Form submission settings
[forms]
  from = "noreply@chermaz.com"
  reply_to = "stefano@chermaz.com"

# Redirects (ensure present in published config)
[[redirects]]
  from = "/risolvere-i-sudoku-difficili-guida-completa-e-consigli-efficaci"
  to = "/it/insights/risolvere-i-sudoku-difficili-guida-completa-e-consigli-efficaci/"
  status = 301
  force = true

[[redirects]]
  from = "/risolvere-i-sudoku-difficili-guida-completa-e-consigli-efficaci/"
  to = "/it/insights/risolvere-i-sudoku-difficili-guida-completa-e-consigli-efficaci/"
  status = 301
  force = true

